---
import prefix from "docs/scripts/prefix"
import attrs from "docs/scripts/server/dataset"
const props = Astro.props
interface Props {
    id?: string
    title?: string
    name?: string
    checked?: boolean
    disabled?: boolean
    class?: string
    style?: Record<string, any> | string
    dataset?: Record<string, any>
    onchange?: string
}

if (!props.id && !props.name && !props.title) {
    throw new Error("`checkbox`必须传入`id`或者`name`或者`title`")
}
---

<span
    class={`${prefix}-checkbox ${props.class || ""}`}
    style={props.style}
    {...attrs(props.dataset || {})}
>
    <input
        type="checkbox"
        class={`${prefix}-input`}
        id={props.id}
        name={props.name || props.id}
        checked={props.checked}
        disabled={props.disabled}
        onchange={props.onchange}
        title={props.title || props.id || props.name}
    />
    <label class={`${prefix}-checkbox-label`} for={props.id}><slot /></label>
</span>
