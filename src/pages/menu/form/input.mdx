---
layout: "@layout/main.astro"
title: 输入框
---

import T from "src/components/T.astro"
import Grid from "src/components/grid.astro"
import escape from "src/scripts/server/escape"
import { Icon } from "astro-icon/components"
import {components} from 'src/components/markdown/index.mdx'
export {components}


# input

适用的类型：

- **`[type=text]`**
- `[type=search]`
- `[type=number]`
- `[type=password]`
- `[type=email]`
- `[type=tel]`
- `[type=url]`
- `[type=date]`
- `[type=time]`
- `[type=month]`
- `[type=week]`
- `[type=datetime-local]`
- `[type=datetime]`
- `[type=radio]`
    - 另见 [单选框](/menu/form/radio)
- `[type=checkbox]`
    - 另见 [多选框](/menu/form/checkbox)
    - 另见 [开关](/menu/form/switch)
- `[type=file]` 
    - 适用于 [按钮](/menu/button#upload)
    - 适用于 [图片](/menu/typography/image#upload)

<T
    tag="input"
    type="datetime-local"
    class="☘-input ☘-font-mono"
    title="更改时间"
    value='2023-09-08T14:48'
/>

```pug
input.☘-input.☘-font-mono(
    type="datetime-local"
    title='更改时间'
    value='2023-09-08T14:48'
)
```

## `disabled`

<T
    tag="input"
    type="date"
    class="☘-input ☘-font-mono"
    title="更改日期"
    value='2023-09-08'
    disabled
/>

```pug
input.☘-input.☘-font-mono(
    type="date"
    title='更改日期'
    value='2023-09-08'
    disabled
)
```

## `placeholder`

<T
    tag="input"
    class="☘-input ☘-font-mono"
    title="helloworld"
    placeholder='helloworld'
/>

```pug
input.☘-input.☘-font-mono(
    title='helloworld'
    placeholder='helloworld'
)
```

## `data-primary`

设置 `input.☘-input[data-primary]` 可以覆盖全局css变量 `--outline-color-focus`

局部变量 `--color-input` 可以直接设置主题颜色RGB值

<Grid inline>
{
    ['primary', 'success', 'danger', 'warning'].map(primary => 
        <T
            tag='input'
            class="☘-input"
            title={primary}
            placeholder={primary}
            data-primary={primary}
        />
    )
}
<T
    tag="input"
    class="☘-input"
    title="custom"
    placeholder="custom"
    style="--color-input: var(--gold-6)"
/>
</Grid>

```pug
each primary in ['primary', 'success', 'danger', 'warning']
    input.☘-input(
        title=primary
        placeholder=primary
        data-primary=primary
    )
input.☘-input(
    title="custom"
    placeholder="custom"
    style="--color-input: var(--gold-6)"
)
```

## `.sm` & `.lg`

不设置宽高时默认是21.5个等宽半角字符宽

全局变量控制内边距

- `--padding-horizonal-input` 纵向内边距
- `--padding-vertical-input` 横向内边距

有下面两个预设尺寸：

- `input.☘-input.sm`
    <br/><T tag="input" class="☘-input sm" title="helloworld" placeholder="更小" />
- `input.☘-input.lg`
    <br/><T tag="input" class="☘-input lg" title="helloworld" placeholder="更大" />


## affix

把 input 放在 `.☘-input-wrapper` 这个容器中可以用来显示前缀后缀

该容器启用 `.☘-input-wrapper[data-primary]` 也会覆盖全局css变量 `--outline-color-focus` 和继承某些样式

直接使用局部变量 `--color-input-wrapper` 也可以设置主题颜色RGB值，且优先级高于 `--color-input`

<Grid inline>
    <T class="☘-input-wrapper">
        <T tag="input" class="☘-input" title="helloworld" value='helloworld'/>
    </T>
    <T class="☘-input-wrapper">
        <T tag="input" class="☘-input" title="helloworld" value='helloworld'
            style="--color-input: var(--yellow-5)"
        />
    </T>
</Grid>

```pug
.☘-input-wrapper
    input.☘-input(title='helloworld' value='helloworld')
.☘-input-wrapper
    input.☘-input(title='helloworld' value='helloworld' style={
        '--color-input': 'var(--yellow-5)'
    })
```

### `data-with-prefix`

这里使用`type="search"` 在**Safari**上会有额外的放大镜图标

<Grid inline>
    <T class="☘-input-wrapper">
        <Icon
            class={escape('☘-input-prefix')}
            name="interactive-button/outline/search"
            role="button"
            aria-label="search"
            width={16}
            height={16}
        />
        <T
            tag="input"
            class="☘-input"
            data-with-prefix
            title="with-prefix"
            type="search"
        />
    </T>
    <T class="☘-input-wrapper" data-primary>
        <Icon
            class={escape('☘-input-prefix')}
            name="interactive-button/outline/search"
            role="button"
            aria-label="search"
            width={16}
            height={16}
        />
        <T
            tag="input"
            class="☘-input"
            data-with-prefix
            title="with-prefix"
            type="search"
        />
    </T>
</Grid>

```pug
.☘-input-wrapper
    svg.☘-input-prefix(role="button" aria-label="search" width=16 height=16)
    input.☘-input(title='with-prefix' data-with-prefix type="search")
.☘-input-wrapper(data-primary)
    svg.☘-input-prefix(role="button" aria-label="search" width=16 height=16)
    input.☘-input(title='with-prefix' data-with-prefix type="search")
```

### `data-with-suffix`

<Grid inline>
    <T class="☘-input-wrapper">
        <T tag="input" class="☘-input" data-with-suffix title="with-suffix" />
        <Icon
            class={escape('☘-input-suffix')}
            name="tips/outline/close"
            role="button"
            aria-label="close"
            width={16}
            height={16}
        />
    </T>
    <T class="☘-input-wrapper" style="
        --color-input-wrapper: var(--blue-6)
    ">
        <T tag="input" class="☘-input" data-with-suffix title="with-suffix" />
        <Icon
            class={escape('☘-input-suffix')}
            name="tips/outline/close"
            role="button"
            aria-label="close"
            width={16}
            height={16}
        />
    </T>
</Grid>

```pug
.☘-input-wrapper
    input.☘-input(title='with-suffix' data-with-suffix)
    svg.☘-input-suffix(role="button" aria-label="close" width=16 height=16)
.☘-input-wrapper(style={
    '--color-input-wrapper': 'var(--blue-6)'
})
    input.☘-input(title='with-suffix' data-with-suffix)
    svg.☘-input-suffix(role="button" aria-label="close" width=16 height=16)
```

***

上述属性和 `<button>` 一起使用可以增强语义，同时可以被键盘控制焦点。

当然 也可以是：
- `input[type=button]`
- `input[type=reset]`
- `input[type=submit]`

<T class="☘-input-wrapper" data-primary="danger" style={{
    'border-style': 'solid'
}}>
    <T
        tag="input"
        class="☘-input"
        title="in-suffix"
        data-with-suffix
        disabled
    />
    <T
        tag="button"
        class="☘-input-suffix"
        type="submit"
        title="search"
        disabled
    >
        <Icon 
            name="interactive-button/outline/search"
            width={18}
            height={18}
        />
    </T>
</T>

```pug
.☘-input-wrapper(data-primary="danger" style={
    'border-style': 'solid'
})
    input.☘-input(title='out-suffix' disabled)
    button.☘-input-suffix(type="submit" title="search" disabled)
        svg(data-icon="interactive-button/outline/search" width=18 height=18)
```

***

<T class="☘-input-wrapper" data-primary style={{
    'border-style': 'solid'
}}>
    <T tag="input" class="☘-input" title="out-suffix" style={{
        '--box-shadow-drop-bottom': 'none'
    }} />
    <button type="submit" title="search">
        <Icon
            name="interactive-button/outline/search"
            width={18}
            height={18}
        />
    </button>
</T>

这里实现使用了 `:has()` 选择器，如果你的浏览器不支持会被降级，样式会有些许区别

```pug
.☘-input-wrapper(data-primary style={
    'border-style': 'solid'
})
    input.☘-input(title='out-suffix' style={
        '--box-shadow-drop-bottom': 'none'
    })
    button(type="submit" title="search")
        svg(data-icon="interactive-button/outline/search" width=18 height=18)
```
